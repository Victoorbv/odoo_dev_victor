<odoo>
  <data>
    <!-- explicit list view definition -->
  <!--VISTA DE PLATOS-->
    <record model="ir.ui.view" id="rest_victor.list_platos">
      <field name="name">rest_victor list</field>
      <field name="model">rest_victor.platos_victor</field>
      <field name="arch" type="xml">
        <list decoration-muted="not disponible" 
        decoration-success="descuento"
        decoration-warning="es_caro">
          <field name="name"/>
          <field name="precio"/>
          <field name="precio_final" sum="Total ingresos"/>
          <field name="disponible"/>
        </list>
      </field>
    </record>
      
    <!--VISTA DE MENUS-->
    <record model="ir.ui.view" id="rest_victor.list_menu">
      <field name="name">rest_victor list</field>
      <field name="model">rest_victor.menu_victor</field>
      <field name="arch" type="xml">
        <list decoration-muted="fecha_fin &lt; current_date"
        decoration-warning="proximo_vencimiento == True" decoration-info="activo">
          <field name="name"/>
          <field name="fecha_inicio"/>
          <field name="fecha_fin"/>
          <field name="activo"/>
          <field name="precio_total" sum="Total Precios"/>
        </list>
      </field>
    </record>

    <!--VISTA DE INGREDIENTES-->
      <record model="ir.ui.view" id="rest_victor.list_ingredientes">
      <field name="name">rest_victor list</field>
      <field name="model">rest_victor.ingredients_victor</field>
      <field name="arch" type="xml">
        <list decoration-danger="es_alergeno == True" editable="top">
          <field name="name"/>
          <field name="es_alergeno"/>
          <field name="descripcion"/>
        </list>
      </field>
    </record>



   
    <!-- actions opening views on models -->

    <record model="ir.actions.act_window" id="rest_victor.action_platos_window">
      <field name="name">Platos</field>
      <field name="res_model">rest_victor.platos_victor</field>
      <field name="view_mode">list,form</field>
    </record>

    <record model="ir.actions.act_window" id="rest_victor.action_menu_window">
      <field name="name">Menú</field>
      <field name="res_model">rest_victor.menu_victor</field>
      <field name="view_mode">list,form</field>
    </record>
      
    <record model="ir.actions.act_window" id="rest_victor.action_ingredientes_window">
      <field name="name">Ingredientes</field>
      <field name="res_model">rest_victor.ingredients_victor</field>
      <field name="view_mode">list,form</field>
    </record>

    <record model="ir.actions.act_window" id="rest_victor.action_categorias_window">
      <field name="name">Categorías</field>
      <field name="res_model">rest_victor.categoria_victor</field>
      <field name="view_mode">list,form</field>
    </record>

    <record model="ir.actions.act_window" id="rest_victor.action_chef_window">
      <field name="name">Chefs</field>
      <field name="res_model">rest_victor.chef_victor</field>
      <field name="view_mode">list,form</field>
    </record>

  <!-- VISTA CAMARERORS  -->
  <record model="ir.ui.view" id="rest_victor.view_partner_form_inherit">
      <field name="name">Camareros form</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"></field>
      <field name="mode">primary</field>
      <field name="arch" type="xml"> 
        <xpath expr="//field[@name='vat']" position="attributes">
            <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//page[@name='contact_addresses']" position="attributes">
            <attribute name="invisible">1</attribute> 
        </xpath>
        <xpath expr="//field[@name  ='function']" position="after">
          <field name="seccion"/>
        </xpath>
        <xpath expr="//sheet/notebook/page[@name='internal_notes']" position="after">
          <page  name="camareros" 
          string="Camarero" invisible="not es_camarero"
          >
            <group>
              <field name="es_camarero" invisible="1"/>
              <field name="turno"/>
              <field name="menus_especialidad" widget="many2many_tags"/>
            </group>
           </page>
         </xpath>
      </field>
    </record>

    <record model="ir.actions.act_window" id="rest_victor.action_camareros_window">
      <field name="name">Camareros</field>
      <field name="res_model">res.partner</field>
      <field name="view_mode">list,form</field>
      <field name="domain">[('es_camarero','=',True)]</field>
      <field name="context">{'default_es_camarero': True}</field>
    </record>

    <record model="ir.actions.act_window.view" id="rest_victor.action_camareros_list">
      <field name="sequence" eval="1"/>
      <field name="view_mode">list</field>
      <field name="view_id" ref="base.view_partner_tree"/>
      <field name="act_window_id" ref="rest_victor.action_camareros_window"/>
    </record>

    <record model="ir.actions.act_window.view" id="rest_victor.action_camareros_form">
      <field name="sequence" eval="2"/>
      <field name="view_mode">form</field>
      <field name="view_id" ref="rest_victor.view_partner_form_inherit"/>
      <field name="act_window_id" ref="rest_victor.action_camareros_window"/>
    </record>

    <!-- Top menu item -->
    <menuitem name="Gestión de Restaurante" id="rest_victor.menu_root"/>
    <!-- menu categories -->
    <menuitem name="Listados" id="rest_victor.menu_1" parent="rest_victor.menu_root"/>
    <!-- actions -->
    <menuitem name="Platos" id="rest_victor.menu_1_list" parent="rest_victor.menu_1"
              action="rest_victor.action_platos_window"/>
    <menuitem name="Menús" id="rest_victor.menu_2_list" parent="rest_victor.menu_1"
              action="rest_victor.action_menu_window"/>
    <menuitem name="Ingredientes" id="rest_victor.menu_3_list" parent="rest_victor.menu_1"
              action="rest_victor.action_ingredientes_window"/>
    <menuitem name="Categorías" id="rest_victor.menu_4_list" parent="rest_victor.menu_1"
              action="rest_victor.action_categorias_window"/>
    <menuitem name="Chefs" id="rest_victor.menu_5_list" parent="rest_victor.menu_1"
              action="rest_victor.action_chef_window"/>
    <menuitem name="Camareros" id="rest_victor.menu_6_list" parent="rest_victor.menu_1"
              action="rest_victor.action_camareros_window"/>

  </data>
</odoo>
